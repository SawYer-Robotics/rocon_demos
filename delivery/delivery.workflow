[{"id":"1413453152758","js":"var item;\nvar target_order_id;\nvar order_queue;\nvar robot_item;\nvar temp_order_list;\nvar robot_list;\nvar robot;\nvar stored_order;\nvar order_list;\nvar receivers;\nvar order;\nvar receiver;\nvar locations;\nvar loc;\nvar order_status;\n\nfunction remove_order(target_order_id) {\n  temp_order_list = [];\n  for (var stored_order_index3 in  order_list) {\n    stored_order = order_list[stored_order_index3];\n    if (target_order_id == stored_order['order_id']) {\n      $engine.print(\"Rocon Authoring :\" + JSON.stringify(String('remove order:  ') + String(stored_order['order_id'])));} else {\n      temp_order_list.push(stored_order);\n    }\n  }\n  order_list = [];\n  for (var stored_order_index4 in  temp_order_list) {\n    stored_order = temp_order_list[stored_order_index4];\n    order_list.push(stored_order);\n  }\n}\n\n\n$engine.print(\"Rocon Authoring :\" + JSON.stringify('Delivery Start!!'));order_queue = [];\nrobot_list = [];\norder_list = [];\nrobot_list.push(({name:'young', order_id:' ', status:-10}));\nrobot_list.push(({name:'adams', order_id:' ', status:-10}));\nrobot_list.push(({name:'zach', order_id:' ', status:-10}));\n\n$engine.subscribe('/young/robot_status', 'simple_delivery_msgs/RobotStatus'); $engine.ee.on('/young/robot_status', function(item){   for (var robot_item_index in  robot_list) {\n    robot_item = robot_list[robot_item_index];\n    if (robot_item['name'] == 'young') {\n      if (String(robot_item['status']) != String(item['robot_status'])) {\n        $engine.print(\"Rocon Authoring :\" + JSON.stringify([robot_item['name'],' robot  [status: ',item['robot_status'],']'].join('')));}\n      robot_item['status'] = item['robot_status'];}\n  }\n });\n$engine.subscribe('/adams/robot_status', 'simple_delivery_msgs/RobotStatus'); $engine.ee.on('/adams/robot_status', function(item){   for (var robot_item_index2 in  robot_list) {\n    robot_item = robot_list[robot_item_index2];\n    if (robot_item['name'] == 'adams') {\n      if (String(robot_item['status']) != String(item['robot_status'])) {\n        $engine.print(\"Rocon Authoring :\" + JSON.stringify([robot_item['name'],' robot  [status: ',item['robot_status'],']'].join('')));}\n      robot_item['status'] = item['robot_status'];}\n  }\n });\n$engine.subscribe('/zach/robot_status', 'simple_delivery_msgs/RobotStatus'); $engine.ee.on('/zach/robot_status', function(item){   for (var robot_item_index3 in  robot_list) {\n    robot_item = robot_list[robot_item_index3];\n    if (robot_item['name'] == 'zach') {\n      if (String(robot_item['status']) != String(item['robot_status'])) {\n        $engine.print(\"Rocon Authoring :\" + JSON.stringify([robot_item['name'],' robot  [status: ',item['robot_status'],']'].join('')));}\n      robot_item['status'] = item['robot_status'];}\n  }\n });\n$engine.subscribe('/send_order', 'simple_delivery_msgs/DeliveryOrder'); $engine.ee.on('/send_order', function(item){   if (item['receivers'].length > 0) {\n    order_queue.push(item);\n    $engine.print(\"Rocon Authoring :\" + JSON.stringify(['Push Order: [Cnt: ',order_queue.length,']'].join('')));UDF_show_video('delivery');receivers = item['receivers'];\n    receiver = receivers[0];\n    order_list.push(({order_id:item['order_id'], robot:'', menus:receiver['menus'], status:10, location:receiver['location']}));\n    $engine.pub('/order_list', 'simple_delivery_msgs/OrderList', ({orders:order_list}));UDF_set_light(['1', '2'], 'BLUE');} else {\n    $engine.print(\"Rocon Authoring :\" + JSON.stringify(String('Get Test Order') + String(item)));}\n });\nsetTimeout(function(){Fiber(function(){   while (true) {\n    for (var robot_index in  robot_list) {\n      robot = robot_list[robot_index];\n      if (!!order_queue.length) {\n        if (robot['status'] == 10) {\n          order = order_queue.shift();\n          $engine.print(\"Rocon Authoring :\" + JSON.stringify(['Pop Order: [Cnt: ',order_queue.length,']'].join('')));robot['status'] = 20;robot['order_id'] = order['order_id'];locations = [];\n          for (var loc_index in  order['receivers']) {\n            loc = order['receivers'][loc_index];\n            locations.push(loc['location']);\n          }\n          $engine.print(\"Rocon Authoring :\" + JSON.stringify(['assign new robot: ','[',robot['name'],'] [order id: ',order['order_id'],'] [locations: ',locations,']'].join('')));for (var stored_order_index in  order_list) {\n            stored_order = order_list[stored_order_index];\n            if (order['order_id'] == stored_order['order_id']) {\n              stored_order['robot'] = robot['name'];}\n          }\n          $engine.pub('/order_list', 'simple_delivery_msgs/OrderList', ({orders:order_list}));$engine.runAction(['/',robot['name'],'/delivery_order'].join(''), 'simple_delivery_msgs/RobotDeliveryOrderAction', ({order_id:order['order_id'], locations:locations}), function(item){   $engine.print(\"Rocon Authoring :\" + JSON.stringify('Delivery Result'));remove_order(item['order_id']);\n            $engine.pub('/order_list', 'simple_delivery_msgs/OrderList', ({orders:order_list}));if (order_list.length == 0) {\n              UDF_show_video('default');}\n          }, function(item){   order_status = item['delivery_status'];\n            for (var stored_order_index2 in  order_list) {\n              stored_order = order_list[stored_order_index2];\n              if (order_status['order_id'] == stored_order['order_id']) {\n                if (order_status['status'] != stored_order['status']) {\n                  if (order_status['status'] == 20) {\n                    UDF_set_light(['1', '2'], 'BLUE');} else if (order_status['status'] == 60) {\n                    UDF_set_light(['1', '2'], 'WHITE');}\n                  $engine.pub('/delivery_status', 'simple_delivery_msgs/DeliveryStatus', item['delivery_status']);}\n                stored_order['status'] = order_status['status'];}\n            }\n            $engine.pub('/order_list', 'simple_delivery_msgs/OrderList', ({orders:order_list}));});$engine.print(\"Rocon Authoring :\" + JSON.stringify('Send Action'));}\n      }\n    }\n    $engine.sleep(10);}\n }).run();}, 0);","xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"action_speak\" id=\"310\" inline=\"false\" x=\"-81\" y=\"-262\"><value name=\"VALUE\"><block type=\"text\" id=\"311\"><field name=\"TEXT\">Delivery Start!!</field></block></value><next><block type=\"variables_set\" id=\"312\" inline=\"true\"><field name=\"VAR\">order_queue</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\"313\"></block></value><next><block type=\"variables_set\" id=\"314\" inline=\"true\"><field name=\"VAR\">robot_list</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\"315\"></block></value><next><block type=\"variables_set\" id=\"316\" inline=\"true\"><field name=\"VAR\">order_list</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\"317\"></block></value><next><block type=\"lists_setIndex\" id=\"318\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"319\"><field name=\"VAR\">robot_list</field></block></value><value name=\"TO\"><block type=\"object_create_with\" id=\"320\" inline=\"false\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"321\" inline=\"true\"><field name=\"KEY\">name</field><value name=\"VALUE\"><block type=\"text\" id=\"322\"><field name=\"TEXT\">young</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"323\" inline=\"true\"><field name=\"KEY\">order_id</field><value name=\"VALUE\"><block type=\"text\" id=\"324\"><field name=\"TEXT\"> </field></block></value></block></value><value name=\"ADD2\"><block type=\"object_item\" id=\"325\" inline=\"true\"><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"math_number\" id=\"326\"><field name=\"NUM\">-10</field></block></value></block></value></block></value><next><block type=\"lists_setIndex\" id=\"327\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"328\"><field name=\"VAR\">robot_list</field></block></value><value name=\"TO\"><block type=\"object_create_with\" id=\"329\" inline=\"false\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"330\" inline=\"true\"><field name=\"KEY\">name</field><value name=\"VALUE\"><block type=\"text\" id=\"331\"><field name=\"TEXT\">adams</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"332\" inline=\"true\"><field name=\"KEY\">order_id</field><value name=\"VALUE\"><block type=\"text\" id=\"333\"><field name=\"TEXT\"> </field></block></value></block></value><value name=\"ADD2\"><block type=\"object_item\" id=\"334\" inline=\"true\"><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"math_number\" id=\"335\"><field name=\"NUM\">-10</field></block></value></block></value></block></value><next><block type=\"lists_setIndex\" id=\"336\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"337\"><field name=\"VAR\">robot_list</field></block></value><value name=\"TO\"><block type=\"object_create_with\" id=\"338\" inline=\"false\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"339\" inline=\"true\"><field name=\"KEY\">name</field><value name=\"VALUE\"><block type=\"text\" id=\"340\"><field name=\"TEXT\">zach</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"341\" inline=\"true\"><field name=\"KEY\">order_id</field><value name=\"VALUE\"><block type=\"text\" id=\"342\"><field name=\"TEXT\"> </field></block></value></block></value><value name=\"ADD2\"><block type=\"object_item\" id=\"343\" inline=\"true\"><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"math_number\" id=\"344\"><field name=\"NUM\">-10</field></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"ros_subscribe\" id=\"345\" inline=\"true\" x=\"-83\" y=\"315\"><field name=\"DO_PARAM\">item</field><value name=\"NAME\"><block type=\"text\" id=\"346\"><field name=\"TEXT\">/young/robot_status</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"347\"><field name=\"TEXT\">simple_delivery_msgs/RobotStatus</field></block></value><statement name=\"DO\"><block type=\"controls_forEach\" id=\"348\" inline=\"false\"><field name=\"VAR\">robot_item</field><value name=\"LIST\"><block type=\"variables_get\" id=\"349\"><field name=\"VAR\">robot_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"350\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"351\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"352\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">name</field></block></value><value name=\"B\"><block type=\"text\" id=\"353\"><field name=\"TEXT\">young</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"354\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"355\" inline=\"true\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_join\" id=\"356\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"357\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">status</field></block></value></block></value><value name=\"B\"><block type=\"text_join\" id=\"358\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"359\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"action_speak\" id=\"360\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"361\" inline=\"false\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"362\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">name</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"363\"><field name=\"TEXT\"> robot  [status: </field></block></value><value name=\"ADD2\"><block type=\"object_item_get\" id=\"364\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"365\"><field name=\"TEXT\">]</field></block></value></block></value></block></statement><next><block type=\"object_item_set\" id=\"366\" inline=\"true\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"367\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value></block></next></block></statement></block></statement></block></statement></block><block type=\"ros_subscribe\" id=\"368\" inline=\"true\" x=\"-82\" y=\"705\"><field name=\"DO_PARAM\">item</field><value name=\"NAME\"><block type=\"text\" id=\"369\"><field name=\"TEXT\">/adams/robot_status</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"370\"><field name=\"TEXT\">simple_delivery_msgs/RobotStatus</field></block></value><statement name=\"DO\"><block type=\"controls_forEach\" id=\"371\" inline=\"false\"><field name=\"VAR\">robot_item</field><value name=\"LIST\"><block type=\"variables_get\" id=\"372\"><field name=\"VAR\">robot_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"373\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"374\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"375\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">name</field></block></value><value name=\"B\"><block type=\"text\" id=\"376\"><field name=\"TEXT\">adams</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"377\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"378\" inline=\"true\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_join\" id=\"379\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"380\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">status</field></block></value></block></value><value name=\"B\"><block type=\"text_join\" id=\"381\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"382\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"action_speak\" id=\"383\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"384\" inline=\"false\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"385\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">name</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"386\"><field name=\"TEXT\"> robot  [status: </field></block></value><value name=\"ADD2\"><block type=\"object_item_get\" id=\"387\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"388\"><field name=\"TEXT\">]</field></block></value></block></value></block></statement><next><block type=\"object_item_set\" id=\"389\" inline=\"true\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"390\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value></block></next></block></statement></block></statement></block></statement></block><block type=\"ros_subscribe\" id=\"391\" inline=\"true\" x=\"-86\" y=\"1085\"><field name=\"DO_PARAM\">item</field><value name=\"NAME\"><block type=\"text\" id=\"392\"><field name=\"TEXT\">/zach/robot_status</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"393\"><field name=\"TEXT\">simple_delivery_msgs/RobotStatus</field></block></value><statement name=\"DO\"><block type=\"controls_forEach\" id=\"394\" inline=\"false\"><field name=\"VAR\">robot_item</field><value name=\"LIST\"><block type=\"variables_get\" id=\"395\"><field name=\"VAR\">robot_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"396\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"397\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"398\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">name</field></block></value><value name=\"B\"><block type=\"text\" id=\"399\"><field name=\"TEXT\">zach</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"400\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"401\" inline=\"true\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"text_join\" id=\"402\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"403\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">status</field></block></value></block></value><value name=\"B\"><block type=\"text_join\" id=\"404\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"405\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"action_speak\" id=\"406\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"407\" inline=\"false\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"object_item_get\" id=\"408\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">name</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"409\"><field name=\"TEXT\"> robot  [status: </field></block></value><value name=\"ADD2\"><block type=\"object_item_get\" id=\"410\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"411\"><field name=\"TEXT\">]</field></block></value></block></value></block></statement><next><block type=\"object_item_set\" id=\"412\" inline=\"true\"><field name=\"VAR\">robot_item</field><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"413\"><field name=\"VAR\">item</field><field name=\"KEY\">robot_status</field></block></value></block></next></block></statement></block></statement></block></statement></block><block type=\"ros_subscribe\" id=\"414\" inline=\"true\" x=\"-87\" y=\"1438\"><field name=\"DO_PARAM\">item</field><value name=\"NAME\"><block type=\"text\" id=\"415\"><field name=\"TEXT\">/send_order</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"416\"><field name=\"TEXT\">simple_delivery_msgs/DeliveryOrder</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"417\" inline=\"false\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"418\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"lists_length\" id=\"419\" inline=\"false\"><value name=\"VALUE\"><block type=\"object_item_get\" id=\"420\"><field name=\"VAR\">item</field><field name=\"KEY\">receivers</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"421\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"lists_setIndex\" id=\"422\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"423\"><field name=\"VAR\">order_queue</field></block></value><value name=\"TO\"><block type=\"variables_get\" id=\"424\"><field name=\"VAR\">item</field></block></value><next><block type=\"action_speak\" id=\"425\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"426\" inline=\"false\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"427\"><field name=\"TEXT\">Push Order: [Cnt: </field></block></value><value name=\"ADD1\"><block type=\"lists_length\" id=\"428\" inline=\"false\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"429\"><field name=\"VAR\">order_queue</field></block></value></block></value><value name=\"ADD2\"><block type=\"text\" id=\"430\"><field name=\"TEXT\">]</field></block></value></block></value><next><block type=\"udf_UDF_show_video\" id=\"431\" inline=\"false\"><value name=\"VIDEO_NAME\"><block type=\"text\" id=\"432\"><field name=\"TEXT\">delivery</field></block></value><next><block type=\"variables_set\" id=\"433\" inline=\"true\"><field name=\"VAR\">receivers</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"434\"><field name=\"VAR\">item</field><field name=\"KEY\">receivers</field></block></value><next><block type=\"variables_set\" id=\"435\" inline=\"true\"><field name=\"VAR\">receiver</field><value name=\"VALUE\"><block type=\"lists_getIndex\" id=\"436\" inline=\"true\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"437\"><field name=\"VAR\">receivers</field></block></value></block></value><next><block type=\"lists_setIndex\" id=\"438\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"439\"><field name=\"VAR\">order_list</field></block></value><value name=\"TO\"><block type=\"object_create_with\" id=\"440\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"441\" inline=\"true\"><field name=\"KEY\">order_id</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"442\"><field name=\"VAR\">item</field><field name=\"KEY\">order_id</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"443\" inline=\"true\"><field name=\"KEY\">robot</field><value name=\"VALUE\"><block type=\"text\" id=\"444\"><field name=\"TEXT\"></field></block></value></block></value><value name=\"ADD2\"><block type=\"object_item\" id=\"445\" inline=\"true\"><field name=\"KEY\">menus</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"446\"><field name=\"VAR\">receiver</field><field name=\"KEY\">menus</field></block></value></block></value><value name=\"ADD3\"><block type=\"object_item\" id=\"447\" inline=\"true\"><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"math_number\" id=\"448\"><field name=\"NUM\">10</field></block></value></block></value><value name=\"ADD4\"><block type=\"object_item\" id=\"449\" inline=\"true\"><field name=\"KEY\">location</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"450\"><field name=\"VAR\">receiver</field><field name=\"KEY\">location</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"451\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"452\"><field name=\"TEXT\">/order_list</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"453\"><field name=\"TEXT\">simple_delivery_msgs/OrderList</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"454\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"455\" inline=\"true\"><field name=\"KEY\">orders</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"456\"><field name=\"VAR\">order_list</field></block></value></block></value></block></value><next><block type=\"udf_UDF_set_light\" id=\"457\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"458\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"459\"><field name=\"TEXT\">1</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"460\"><field name=\"TEXT\">2</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"461\"><field name=\"TEXT\">BLUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"action_speak\" id=\"462\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"463\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"464\"><field name=\"TEXT\">Get Test Order</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"465\"><field name=\"VAR\">item</field></block></value></block></value></block></statement></block></statement></block><block type=\"defer\" id=\"466\" x=\"-90\" y=\"2222\"><statement name=\"DO\"><block type=\"controls_whileUntil\" id=\"467\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_boolean\" id=\"468\"><field name=\"BOOL\">TRUE</field></block></value><statement name=\"DO\"><block type=\"controls_forEach\" id=\"469\" inline=\"false\"><field name=\"VAR\">robot</field><value name=\"LIST\"><block type=\"variables_get\" id=\"470\"><field name=\"VAR\">robot_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"471\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_negate\" id=\"472\" inline=\"false\"><value name=\"BOOL\"><block type=\"lists_isEmpty\" id=\"473\" inline=\"true\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"474\"><field name=\"VAR\">order_queue</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"475\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"476\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"477\"><field name=\"VAR\">robot</field><field name=\"KEY\">status</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"478\"><field name=\"NUM\">10</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"479\" inline=\"true\"><field name=\"VAR\">order</field><value name=\"VALUE\"><block type=\"lists_getIndex\" id=\"480\" inline=\"true\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET_REMOVE</field><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"481\"><field name=\"VAR\">order_queue</field></block></value></block></value><next><block type=\"action_speak\" id=\"482\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"483\" inline=\"false\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"484\"><field name=\"TEXT\">Pop Order: [Cnt: </field></block></value><value name=\"ADD1\"><block type=\"lists_length\" id=\"485\" inline=\"false\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"486\"><field name=\"VAR\">order_queue</field></block></value></block></value><value name=\"ADD2\"><block type=\"text\" id=\"487\"><field name=\"TEXT\">]</field></block></value></block></value><next><block type=\"object_item_set\" id=\"488\" inline=\"true\"><field name=\"VAR\">robot</field><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"math_number\" id=\"489\"><field name=\"NUM\">20</field></block></value><next><block type=\"object_item_set\" id=\"490\" inline=\"true\"><field name=\"VAR\">robot</field><field name=\"KEY\">order_id</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"491\"><field name=\"VAR\">order</field><field name=\"KEY\">order_id</field></block></value><next><block type=\"variables_set\" id=\"492\" inline=\"true\"><field name=\"VAR\">locations</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\"493\"></block></value><next><block type=\"controls_forEach\" id=\"494\" inline=\"false\"><field name=\"VAR\">loc</field><value name=\"LIST\"><block type=\"object_item_get\" id=\"495\"><field name=\"VAR\">order</field><field name=\"KEY\">receivers</field></block></value><statement name=\"DO\"><block type=\"lists_setIndex\" id=\"496\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"497\"><field name=\"VAR\">locations</field></block></value><value name=\"TO\"><block type=\"object_item_get\" id=\"498\"><field name=\"VAR\">loc</field><field name=\"KEY\">location</field></block></value></block></statement><next><block type=\"action_speak\" id=\"499\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"500\" inline=\"false\"><mutation items=\"8\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"501\"><field name=\"TEXT\">assign new robot: </field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"502\"><field name=\"TEXT\">[</field></block></value><value name=\"ADD2\"><block type=\"object_item_get\" id=\"503\"><field name=\"VAR\">robot</field><field name=\"KEY\">name</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"504\"><field name=\"TEXT\">] [order id: </field></block></value><value name=\"ADD4\"><block type=\"object_item_get\" id=\"505\"><field name=\"VAR\">order</field><field name=\"KEY\">order_id</field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"506\"><field name=\"TEXT\">] [locations: </field></block></value><value name=\"ADD6\"><block type=\"variables_get\" id=\"507\"><field name=\"VAR\">locations</field></block></value><value name=\"ADD7\"><block type=\"text\" id=\"508\"><field name=\"TEXT\">]</field></block></value></block></value><next><block type=\"controls_forEach\" id=\"509\" inline=\"false\"><field name=\"VAR\">stored_order</field><value name=\"LIST\"><block type=\"variables_get\" id=\"510\"><field name=\"VAR\">order_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"511\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"512\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"513\"><field name=\"VAR\">order</field><field name=\"KEY\">order_id</field></block></value><value name=\"B\"><block type=\"object_item_get\" id=\"514\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">order_id</field></block></value></block></value><statement name=\"DO0\"><block type=\"object_item_set\" id=\"515\" inline=\"true\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">robot</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"516\"><field name=\"VAR\">robot</field><field name=\"KEY\">name</field></block></value></block></statement></block></statement><next><block type=\"ros_publish\" id=\"517\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"518\"><field name=\"TEXT\">/order_list</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"519\"><field name=\"TEXT\">simple_delivery_msgs/OrderList</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"520\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"521\" inline=\"true\"><field name=\"KEY\">orders</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"522\"><field name=\"VAR\">order_list</field></block></value></block></value></block></value><next><block type=\"ros_action\" id=\"523\" inline=\"true\"><field name=\"ON_RESULT_PARAM\">item</field><field name=\"ON_FEEDBACK_PARAM\">item</field><value name=\"NAME\"><block type=\"text_join\" id=\"524\" inline=\"false\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"525\"><field name=\"TEXT\">/</field></block></value><value name=\"ADD1\"><block type=\"object_item_get\" id=\"526\"><field name=\"VAR\">robot</field><field name=\"KEY\">name</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"527\"><field name=\"TEXT\">/delivery_order</field></block></value></block></value><value name=\"TYPE\"><block type=\"text\" id=\"528\"><field name=\"TEXT\">simple_delivery_msgs/RobotDeliveryOrderAction</field></block></value><value name=\"GOAL\"><block type=\"object_create_with\" id=\"529\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"530\" inline=\"true\"><field name=\"KEY\">order_id</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"531\"><field name=\"VAR\">order</field><field name=\"KEY\">order_id</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"532\" inline=\"true\"><field name=\"KEY\">locations</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"533\"><field name=\"VAR\">locations</field></block></value></block></value></block></value><statement name=\"ON_RESULT\"><block type=\"action_speak\" id=\"534\" inline=\"false\"><value name=\"VALUE\"><block type=\"text\" id=\"535\"><field name=\"TEXT\">Delivery Result</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"536\" inline=\"false\"><mutation name=\"remove_order\"><arg name=\"target_order_id\"></arg></mutation><value name=\"ARG0\"><block type=\"object_item_get\" id=\"537\"><field name=\"VAR\">item</field><field name=\"KEY\">order_id</field></block></value><next><block type=\"ros_publish\" id=\"538\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"539\"><field name=\"TEXT\">/order_list</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"540\"><field name=\"TEXT\">simple_delivery_msgs/OrderList</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"541\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"542\" inline=\"true\"><field name=\"KEY\">orders</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"543\"><field name=\"VAR\">order_list</field></block></value></block></value></block></value><next><block type=\"controls_if\" id=\"544\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"545\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"lists_length\" id=\"546\" inline=\"false\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"547\"><field name=\"VAR\">order_list</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"548\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"udf_UDF_show_video\" id=\"549\" inline=\"false\"><value name=\"VIDEO_NAME\"><block type=\"text\" id=\"550\"><field name=\"TEXT\">default</field></block></value></block></statement></block></next></block></next></block></next></block></statement><statement name=\"ON_FEEDBACK\"><block type=\"variables_set\" id=\"551\" inline=\"true\"><field name=\"VAR\">order_status</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"552\"><field name=\"VAR\">item</field><field name=\"KEY\">delivery_status</field></block></value><next><block type=\"controls_forEach\" id=\"553\" inline=\"false\"><field name=\"VAR\">stored_order</field><value name=\"LIST\"><block type=\"variables_get\" id=\"554\"><field name=\"VAR\">order_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"555\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"556\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"557\"><field name=\"VAR\">order_status</field><field name=\"KEY\">order_id</field></block></value><value name=\"B\"><block type=\"object_item_get\" id=\"558\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">order_id</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"559\" inline=\"false\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"560\" inline=\"true\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"561\"><field name=\"VAR\">order_status</field><field name=\"KEY\">status</field></block></value><value name=\"B\"><block type=\"object_item_get\" id=\"562\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">status</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"563\" inline=\"false\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"564\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"565\"><field name=\"VAR\">order_status</field><field name=\"KEY\">status</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"566\"><field name=\"NUM\">20</field></block></value></block></value><statement name=\"DO0\"><block type=\"udf_UDF_set_light\" id=\"567\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"568\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"569\"><field name=\"TEXT\">1</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"570\"><field name=\"TEXT\">2</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"571\"><field name=\"TEXT\">BLUE</field></block></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"572\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"573\"><field name=\"VAR\">order_status</field><field name=\"KEY\">status</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"574\"><field name=\"NUM\">60</field></block></value></block></value><statement name=\"DO1\"><block type=\"udf_UDF_set_light\" id=\"575\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"576\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"577\"><field name=\"TEXT\">1</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"578\"><field name=\"TEXT\">2</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"579\"><field name=\"TEXT\">WHITE</field></block></value></block></statement><next><block type=\"ros_publish\" id=\"580\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"581\"><field name=\"TEXT\">/delivery_status</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"582\"><field name=\"TEXT\">simple_delivery_msgs/DeliveryStatus</field></block></value><value name=\"VALUE\"><block type=\"object_item_get\" id=\"583\"><field name=\"VAR\">item</field><field name=\"KEY\">delivery_status</field></block></value></block></next></block></statement><next><block type=\"object_item_set\" id=\"584\" inline=\"true\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">status</field><value name=\"VALUE\"><block type=\"object_item_get\" id=\"585\"><field name=\"VAR\">order_status</field><field name=\"KEY\">status</field></block></value></block></next></block></statement></block></statement><next><block type=\"ros_publish\" id=\"586\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"587\"><field name=\"TEXT\">/order_list</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"588\"><field name=\"TEXT\">simple_delivery_msgs/OrderList</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"589\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"590\" inline=\"true\"><field name=\"KEY\">orders</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"591\"><field name=\"VAR\">order_list</field></block></value></block></value></block></value></block></next></block></next></block></statement><next><block type=\"action_speak\" id=\"592\" inline=\"false\"><value name=\"VALUE\"><block type=\"text\" id=\"593\"><field name=\"TEXT\">Send Action</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></statement><next><block type=\"action_sleep\" id=\"594\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"595\"><field name=\"NUM\">10</field></block></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"596\" x=\"-720\" y=\"3017\"><mutation><arg name=\"target_order_id\"></arg></mutation><field name=\"NAME\">remove_order</field><statement name=\"STACK\"><block type=\"variables_set\" id=\"597\" inline=\"true\"><field name=\"VAR\">temp_order_list</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\"598\"></block></value><next><block type=\"controls_forEach\" id=\"599\" inline=\"false\"><field name=\"VAR\">stored_order</field><value name=\"LIST\"><block type=\"variables_get\" id=\"600\"><field name=\"VAR\">order_list</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"601\" inline=\"false\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"602\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"603\"><field name=\"VAR\">target_order_id</field></block></value><value name=\"B\"><block type=\"object_item_get\" id=\"604\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">order_id</field></block></value></block></value><statement name=\"DO0\"><block type=\"action_speak\" id=\"605\" inline=\"false\"><value name=\"VALUE\"><block type=\"text_join\" id=\"606\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"607\"><field name=\"TEXT\">remove order:  </field></block></value><value name=\"ADD1\"><block type=\"object_item_get\" id=\"608\"><field name=\"VAR\">stored_order</field><field name=\"KEY\">order_id</field></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"lists_setIndex\" id=\"609\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"610\"><field name=\"VAR\">temp_order_list</field></block></value><value name=\"TO\"><block type=\"variables_get\" id=\"611\"><field name=\"VAR\">stored_order</field></block></value></block></statement></block></statement><next><block type=\"variables_set\" id=\"612\" inline=\"true\"><field name=\"VAR\">order_list</field><value name=\"VALUE\"><block type=\"lists_create_empty\" id=\"613\"></block></value><next><block type=\"controls_forEach\" id=\"614\" inline=\"false\"><field name=\"VAR\">stored_order</field><value name=\"LIST\"><block type=\"variables_get\" id=\"615\"><field name=\"VAR\">temp_order_list</field></block></value><statement name=\"DO\"><block type=\"lists_setIndex\" id=\"616\" inline=\"true\"><mutation at=\"false\"></mutation><field name=\"MODE\">INSERT</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"617\"><field name=\"VAR\">order_list</field></block></value><value name=\"TO\"><block type=\"variables_get\" id=\"618\"><field name=\"VAR\">stored_order</field></block></value></block></statement></block></next></block></next></block></next></block></statement></block></xml>","title":"delivery_wf"},{"id":"1413695226683","js":"var item;\n\n\n$engine.subscribe('/touch_sensor_event', 'std_msgs/String'); $engine.ee.on('/touch_sensor_event', function(item){   $engine.print(\"Rocon Authoring :\" + JSON.stringify(item));if (item['data'] == '4') {\n    setTimeout(function(){Fiber(function(){   $engine.pub('/play_tts', 'std_msgs/String', ({data:'유징로봇의 사물 인터넷 기반 배달 서비스 체험관에 오신것을 환영합니다.'}));UDF_set_light(['4', '5'], 'GREEN');$engine.pub('/robot_motion', 'std_msgs/String', ({data:'HAPPY3'}));UDF_show_video('welcome');$engine.sleep(7000);UDF_set_light(['4', '5'], 'WHITE');UDF_show_video('default'); }).run();}, 0);} else if (item['data'] == '3') {\n    setTimeout(function(){Fiber(function(){   $engine.pub('/play_tts', 'std_msgs/String', ({data:'어서오세요. 만나서 반갑습니다. 체험관 구경하고 가세요'}));$engine.pub('/robot_motion', 'std_msgs/String', ({data:'HELLORIGHTHAND'}));UDF_set_light(['4', '5'], 'GREEN');UDF_show_video('welcome');$engine.sleep(5000);UDF_set_light(['4', '5'], 'WHITE');UDF_show_video('default'); }).run();}, 0);} else {\n    $engine.pub('/play_tts', 'std_msgs/String', ({data:'어딜 만지는거야'}));}\n });","xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"ros_subscribe\" id=\"334\" inline=\"true\" x=\"-87\" y=\"-112\"><field name=\"DO_PARAM\">item</field><value name=\"NAME\"><block type=\"text\" id=\"335\"><field name=\"TEXT\">/touch_sensor_event</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"336\"><field name=\"TEXT\">std_msgs/String</field></block></value><statement name=\"DO\"><block type=\"action_speak\" id=\"337\" inline=\"false\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"338\"><field name=\"VAR\">item</field></block></value><next><block type=\"controls_if\" id=\"339\" inline=\"false\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"340\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"341\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"342\"><field name=\"TEXT\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"defer\" id=\"343\"><statement name=\"DO\"><block type=\"ros_publish\" id=\"344\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"345\"><field name=\"TEXT\">/play_tts</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"346\"><field name=\"TEXT\">std_msgs/String</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"347\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"348\" inline=\"true\"><field name=\"KEY\">data</field><value name=\"VALUE\"><block type=\"text\" id=\"349\"><field name=\"TEXT\">유징로봇의 사물 인터넷 기반 배달 서비스 체험관에 오신것을 환영합니다.</field></block></value></block></value></block></value><next><block type=\"udf_UDF_set_light\" id=\"350\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"351\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"352\"><field name=\"TEXT\">4</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"353\"><field name=\"TEXT\">5</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"354\"><field name=\"TEXT\">GREEN</field></block></value><next><block type=\"ros_publish\" id=\"355\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"356\"><field name=\"TEXT\">/robot_motion</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"357\"><field name=\"TEXT\">std_msgs/String</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"358\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"359\" inline=\"true\"><field name=\"KEY\">data</field><value name=\"VALUE\"><block type=\"text\" id=\"360\"><field name=\"TEXT\">HAPPY3</field></block></value></block></value></block></value><next><block type=\"udf_UDF_show_video\" id=\"361\" inline=\"false\"><value name=\"VIDEO_NAME\"><block type=\"text\" id=\"362\"><field name=\"TEXT\">welcome</field></block></value><next><block type=\"action_sleep\" id=\"363\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"364\"><field name=\"NUM\">7000</field></block></value><next><block type=\"udf_UDF_set_light\" id=\"365\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"366\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"367\"><field name=\"TEXT\">4</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"368\"><field name=\"TEXT\">5</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"369\"><field name=\"TEXT\">WHITE</field></block></value><next><block type=\"udf_UDF_show_video\" id=\"370\" inline=\"false\"><value name=\"VIDEO_NAME\"><block type=\"text\" id=\"371\"><field name=\"TEXT\">default</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"372\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"object_item_get\" id=\"373\"><field name=\"VAR\">item</field><field name=\"KEY\">data</field></block></value><value name=\"B\"><block type=\"text\" id=\"374\"><field name=\"TEXT\">3</field></block></value></block></value><statement name=\"DO1\"><block type=\"defer\" id=\"375\"><statement name=\"DO\"><block type=\"ros_publish\" id=\"376\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"377\"><field name=\"TEXT\">/play_tts</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"378\"><field name=\"TEXT\">std_msgs/String</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"379\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"380\" inline=\"true\"><field name=\"KEY\">data</field><value name=\"VALUE\"><block type=\"text\" id=\"381\"><field name=\"TEXT\">어서오세요. 만나서 반갑습니다. 체험관 구경하고 가세요</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"382\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"383\"><field name=\"TEXT\">/robot_motion</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"384\"><field name=\"TEXT\">std_msgs/String</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"385\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"386\" inline=\"true\"><field name=\"KEY\">data</field><value name=\"VALUE\"><block type=\"text\" id=\"387\"><field name=\"TEXT\">HELLORIGHTHAND</field></block></value></block></value></block></value><next><block type=\"udf_UDF_set_light\" id=\"388\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"389\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"390\"><field name=\"TEXT\">4</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"391\"><field name=\"TEXT\">5</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"392\"><field name=\"TEXT\">GREEN</field></block></value><next><block type=\"udf_UDF_show_video\" id=\"393\" inline=\"false\"><value name=\"VIDEO_NAME\"><block type=\"text\" id=\"394\"><field name=\"TEXT\">welcome</field></block></value><next><block type=\"action_sleep\" id=\"395\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"396\"><field name=\"NUM\">5000</field></block></value><next><block type=\"udf_UDF_set_light\" id=\"397\" inline=\"false\"><value name=\"LIGHT_IDS\"><block type=\"lists_create_with\" id=\"398\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"399\"><field name=\"TEXT\">4</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"400\"><field name=\"TEXT\">5</field></block></value></block></value><value name=\"COLOR\"><block type=\"text\" id=\"401\"><field name=\"TEXT\">WHITE</field></block></value><next><block type=\"udf_UDF_show_video\" id=\"402\" inline=\"false\"><value name=\"VIDEO_NAME\"><block type=\"text\" id=\"403\"><field name=\"TEXT\">default</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"ros_publish\" id=\"404\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"405\"><field name=\"TEXT\">/play_tts</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"406\"><field name=\"TEXT\">std_msgs/String</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"407\" inline=\"false\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"408\" inline=\"true\"><field name=\"KEY\">data</field><value name=\"VALUE\"><block type=\"text\" id=\"409\"><field name=\"TEXT\">어딜 만지는거야</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block></xml>","title":"welcome_wf"},{"id":"1415603260362","js":"var light_ids;\nvar color;\nvar video_name;\nvar light_id;\n\nfunction UDF_set_light(light_ids, color) {\n  setTimeout(function(){Fiber(function(){   for (var light_id_index in  light_ids) {\n      light_id = light_ids[light_id_index];\n      $engine.pub('/set_color', 'rocon_device_msgs/SetColor', ({id:light_id, color:color}));$engine.sleep(10);}\n   }).run();}, 0);}\n\nfunction UDF_show_video(video_name) {\n  if ('default' == video_name) {\n    $engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'left', video_url:'./video/TV_Left_0_Default.mp4'}));$engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'right', video_url:'./video/TV_Right_0_Default.mp4'}));} else if ('welcome' == video_name) {\n    $engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'left', video_url:'./video/TV_Left_1_Robosem.mp4'}));$engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'right', video_url:'./video/TV_Right_1_Robosem.mp4'}));} else if ('delivery' == video_name) {\n    $engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'left', video_url:'./video/TV_Left_2_Waiterbot.mp4'}));$engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'right', video_url:'./video/TV_Right_2_Waiterbot.mp4'}));} else if ('restock' == video_name) {\n    $engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'left', video_url:'./video/TV_Left_3_GoCart.mp4'}));$engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'right', video_url:'./video/TV_Right_3_GoCart.mp4'}));} else {\n    $engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'left', video_url:'./video/TV_Left_0_Default.mp4'}));$engine.pub('/show_video', 'simple_media_msgs/ShowVideo', ({screen_id:'right', video_url:'./video/TV_Right_0_Default.mp4'}));}\n}\n","xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"procedures_defnoreturn\" id=\"727\" x=\"415\" y=\"345\"><mutation><arg name=\"light_ids\"></arg><arg name=\"color\"></arg></mutation><field name=\"NAME\">UDF_set_light</field><statement name=\"STACK\"><block type=\"defer\" id=\"728\"><statement name=\"DO\"><block type=\"controls_forEach\" id=\"729\" inline=\"false\"><field name=\"VAR\">light_id</field><value name=\"LIST\"><block type=\"variables_get\" id=\"730\"><field name=\"VAR\">light_ids</field></block></value><statement name=\"DO\"><block type=\"ros_publish\" id=\"731\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"732\"><field name=\"TEXT\">/set_color</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"733\"><field name=\"TEXT\">rocon_device_msgs/SetColor</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"734\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"735\" inline=\"true\"><field name=\"KEY\">id</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"736\"><field name=\"VAR\">light_id</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"737\" inline=\"true\"><field name=\"KEY\">color</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"738\"><field name=\"VAR\">color</field></block></value></block></value></block></value><next><block type=\"action_sleep\" id=\"739\" inline=\"false\"><value name=\"VALUE\"><block type=\"math_number\" id=\"740\"><field name=\"NUM\">10</field></block></value></block></next></block></statement></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"741\" x=\"412\" y=\"616\"><mutation><arg name=\"video_name\"></arg></mutation><field name=\"NAME\">UDF_show_video</field><statement name=\"STACK\"><block type=\"controls_if\" id=\"742\" inline=\"false\"><mutation elseif=\"3\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"743\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text\" id=\"744\"><field name=\"TEXT\">default</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"745\"><field name=\"VAR\">video_name</field></block></value></block></value><statement name=\"DO0\"><block type=\"ros_publish\" id=\"746\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"747\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"748\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"749\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"750\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"751\"><field name=\"TEXT\">left</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"752\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"753\"><field name=\"TEXT\">./video/TV_Left_0_Default.mp4</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"754\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"755\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"756\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"757\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"758\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"759\"><field name=\"TEXT\">right</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"760\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"761\"><field name=\"TEXT\">./video/TV_Right_0_Default.mp4</field></block></value></block></value></block></value></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"762\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text\" id=\"763\"><field name=\"TEXT\">welcome</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"764\"><field name=\"VAR\">video_name</field></block></value></block></value><statement name=\"DO1\"><block type=\"ros_publish\" id=\"765\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"766\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"767\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"768\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"769\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"770\"><field name=\"TEXT\">left</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"771\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"772\"><field name=\"TEXT\">./video/TV_Left_1_Robosem.mp4</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"773\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"774\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"775\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"776\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"777\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"778\"><field name=\"TEXT\">right</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"779\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"780\"><field name=\"TEXT\">./video/TV_Right_1_Robosem.mp4</field></block></value></block></value></block></value></block></next></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"781\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text\" id=\"782\"><field name=\"TEXT\">delivery</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"783\"><field name=\"VAR\">video_name</field></block></value></block></value><statement name=\"DO2\"><block type=\"ros_publish\" id=\"784\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"785\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"786\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"787\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"788\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"789\"><field name=\"TEXT\">left</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"790\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"791\"><field name=\"TEXT\">./video/TV_Left_2_Waiterbot.mp4</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"792\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"793\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"794\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"795\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"796\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"797\"><field name=\"TEXT\">right</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"798\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"799\"><field name=\"TEXT\">./video/TV_Right_2_Waiterbot.mp4</field></block></value></block></value></block></value></block></next></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"800\" inline=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text\" id=\"801\"><field name=\"TEXT\">restock</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"802\"><field name=\"VAR\">video_name</field></block></value></block></value><statement name=\"DO3\"><block type=\"ros_publish\" id=\"803\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"804\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"805\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"806\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"807\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"808\"><field name=\"TEXT\">left</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"809\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"810\"><field name=\"TEXT\">./video/TV_Left_3_GoCart.mp4</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"811\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"812\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"813\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"814\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"815\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"816\"><field name=\"TEXT\">right</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"817\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"818\"><field name=\"TEXT\">./video/TV_Right_3_GoCart.mp4</field></block></value></block></value></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"ros_publish\" id=\"819\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"820\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"821\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"822\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"823\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"824\"><field name=\"TEXT\">left</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"825\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"826\"><field name=\"TEXT\">./video/TV_Left_0_Default.mp4</field></block></value></block></value></block></value><next><block type=\"ros_publish\" id=\"827\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"828\"><field name=\"TEXT\">/show_video</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"829\"><field name=\"TEXT\">simple_media_msgs/ShowVideo</field></block></value><value name=\"VALUE\"><block type=\"object_create_with\" id=\"830\" inline=\"false\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"object_item\" id=\"831\" inline=\"true\"><field name=\"KEY\">screen_id</field><value name=\"VALUE\"><block type=\"text\" id=\"832\"><field name=\"TEXT\">right</field></block></value></block></value><value name=\"ADD1\"><block type=\"object_item\" id=\"833\" inline=\"true\"><field name=\"KEY\">video_url</field><value name=\"VALUE\"><block type=\"text\" id=\"834\"><field name=\"TEXT\">./video/TV_Right_0_Default.mp4</field></block></value></block></value></block></value></block></next></block></statement></block></statement></block></xml>","title":"common_func"},{"id":"1416270366921","js":"var robot;\n\n\n$engine.subscribe('9시가 되면 ', 'type'); $engine.ee.on('9시가 되면 ', function(robot){   $engine.pub('말한다 ', '좋은 아침이예요. 추운데 오느라 고생했어요^^', '');$engine.pub('인사한다', '팔흔들기', '');$engine.pub('인사한다', '팔흔들기', ''); });\n$engine.subscribe('9시가 되면 ', 'type'); $engine.ee.on('9시가 되면 ', function(robot){   $engine.pub('말한다 ', '좋은 아침이예요. 추운데 오느라 고생했어요^^', '');$engine.pub('인사한다', '팔흔들기', '');$engine.pub('인사한다', '팔흔들기', ''); });","xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"ros_subscribe\" id=\"1647\" inline=\"true\" x=\"-755\" y=\"-1159\"><field name=\"DO_PARAM\">robot</field><value name=\"NAME\"><block type=\"text\" id=\"1648\"><field name=\"TEXT\">9시가 되면 </field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1649\"><field name=\"TEXT\">type</field></block></value><statement name=\"DO\"><block type=\"ros_publish\" id=\"1650\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"1651\"><field name=\"TEXT\">말한다 </field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1652\"><field name=\"TEXT\">좋은 아침이예요. 추운데 오느라 고생했어요^^</field></block></value><next><block type=\"ros_publish\" id=\"1653\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"1654\"><field name=\"TEXT\">인사한다</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1655\"><field name=\"TEXT\">팔흔들기</field></block></value><next><block type=\"ros_publish\" id=\"1656\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"1657\"><field name=\"TEXT\">인사한다</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1658\"><field name=\"TEXT\">팔흔들기</field></block></value></block></next></block></next></block></statement></block><block type=\"ros_subscribe\" id=\"1659\" inline=\"true\" x=\"-757\" y=\"-961\"><field name=\"DO_PARAM\">robot</field><value name=\"NAME\"><block type=\"text\" id=\"1660\"><field name=\"TEXT\">9시가 되면 </field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1661\"><field name=\"TEXT\">type</field></block></value><statement name=\"DO\"><block type=\"ros_publish\" id=\"1662\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"1663\"><field name=\"TEXT\">말한다 </field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1664\"><field name=\"TEXT\">좋은 아침이예요. 추운데 오느라 고생했어요^^</field></block></value><next><block type=\"ros_publish\" id=\"1665\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"1666\"><field name=\"TEXT\">인사한다</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1667\"><field name=\"TEXT\">팔흔들기</field></block></value><next><block type=\"ros_publish\" id=\"1668\" inline=\"true\"><value name=\"NAME\"><block type=\"text\" id=\"1669\"><field name=\"TEXT\">인사한다</field></block></value><value name=\"TYPE\"><block type=\"text\" id=\"1670\"><field name=\"TEXT\">팔흔들기</field></block></value></block></next></block></next></block></statement></block></xml>","title":"delivery_shinae"}]